<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="拔丝地瓜">
    
    <title>
        
            第三章 关系数据库标准语言SQL |
        
        拔丝地瓜
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/202207121124025.svg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.jpg","favicon":"https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/202207121124025.svg","article_img_align":"center","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 6.2.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                拔丝地瓜
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">第三章 关系数据库标准语言SQL</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">拔丝地瓜</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-06-06 11:47:09</span>
        <span class="mobile">2022-06-06 11:47</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="第三章-关系数据库标准语言SQL"><a href="#第三章-关系数据库标准语言SQL" class="headerlink" title="第三章 关系数据库标准语言SQL"></a>第三章 关系数据库标准语言SQL</h1><h2 id="3-1-SQL概述"><a href="#3-1-SQL概述" class="headerlink" title="3.1 SQL概述"></a>3.1 SQL概述</h2><ul>
<li>结构化查询语言（Structured Query Language，SQL），是关系数据库的标准语言，也是一个通用的、功能极强的关系数据库语言</li>
<li>目前没有一个数据库系统能够支持 SQL 标准的所有概念和特性</li>
<li>许多软件厂商对 SQL 基本命令集还进行了不同程度的扩充和修改，又可以支持标准以外的一些功能特性</li>
<li>SQL 的特点<ul>
<li>综合统一</li>
<li>高度非过程化</li>
<li>面向集合的操作方式</li>
<li>以同一种语法结构提供多种使用方式</li>
<li>语言简洁，易学易用</li>
</ul>
</li>
<li>支持 SQL 的关系数据库管理系统同样支持关系数据库三级模式结构，其中外模式包含若干<strong>视图</strong>和部分<strong>基本表</strong>，模式包括若干基本表，内模式包含若干<strong>存储文件</strong><ul>
<li>基本表<ul>
<li>本身独立存在的表</li>
<li>SQL 中一个关系就对应一个基本表</li>
<li>一个（或多个）基本表对应一个存储文件</li>
<li>一个表可以带若干索引</li>
</ul>
</li>
<li>存储文件<ul>
<li>逻辑结构组成了关系数据库的内模式</li>
<li>物理结构对用户是隐蔽的</li>
</ul>
</li>
<li>视图<ul>
<li>从一个或几个基本表导出的表</li>
<li>数据库中只存放视图的定义而不存放视图对应的数据</li>
<li>视图是一个虚表</li>
<li>用户可以在视图上再定义视图</li>
</ul>
</li>
</ul>
</li>
</ul>
<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220301163707.png" alt="3.1" style="zoom:33%;">

<h2 id="3-2-数据定义"><a href="#3-2-数据定义" class="headerlink" title="3.2 数据定义"></a>3.2 数据定义</h2><ul>
<li><p>层次化的数据库对象命名机制</p>
<ul>
<li>一个关系数据库管理系统的实例中可以建立多个数据库</li>
<li>一个数据库中可以建立多个模式</li>
<li>一个模式下通常包括多个表、视图和索引等数据库对象</li>
</ul>
</li>
</ul>
<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/202203051043657.png" alt="3.2" style="zoom:13%;">


<ul>
<li>SQL 的数据定义功能</li>
</ul>
<table>
<thead>
<tr>
<th align="center">操作对象</th>
<th align="center">创建</th>
<th align="center">删除</th>
<th align="center">修改</th>
</tr>
</thead>
<tbody><tr>
<td align="center">模式</td>
<td align="center"><code>CREATE SCHEMA</code></td>
<td align="center"><code>DROP SCHEMA</code></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">表</td>
<td align="center"><code>CREATE TABLE</code></td>
<td align="center"><code>DROP TABLE</code></td>
<td align="center"><code>ALTER TABLE</code></td>
</tr>
<tr>
<td align="center">视图</td>
<td align="center"><code>CREATE VIEW</code></td>
<td align="center"><code>DROP VIEW</code></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">索引</td>
<td align="center"><code>CREATE INDEX</code></td>
<td align="center"><code>DROP INDEX</code></td>
<td align="center"><code>ALTER INDEX</code></td>
</tr>
</tbody></table>
<h3 id="3-2-1-模式的定义与删除"><a href="#3-2-1-模式的定义与删除" class="headerlink" title="3.2.1 模式的定义与删除"></a>3.2.1 模式的定义与删除</h3><h4 id="1-定义模式"><a href="#1-定义模式" class="headerlink" title="1. 定义模式"></a>1. 定义模式</h4><ul>
<li>定义模式实际上定义了一个命名空间。在这个空间中可以定义该模式包含的数据库对象，例如基本表、视图、索引等</li>
<li>SQL 中模式定义语句为</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> SCHEMA <span class="operator">&lt;</span>模式名<span class="operator">&gt;</span> <span class="keyword">AUTHORIZATION</span> <span class="operator">&lt;</span>用户名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>在<code>CREATE SCHEMA</code>中可以接受 <code>CREATE TABLE</code>，<code>CREATE VIEW</code> 和 <code>GRANT</code> 子句，即</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> SCHEMA <span class="operator">&lt;</span>模式名<span class="operator">&gt;</span> <span class="keyword">AUTHORIZATION</span> <span class="operator">&lt;</span>用户名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>表定义子句<span class="operator">&gt;</span> <span class="operator">|</span> <span class="operator">&lt;</span>视图定义子句<span class="operator">&gt;</span> <span class="operator">|</span> <span class="operator">&lt;</span>授权定义子句<span class="operator">&gt;</span>]</span><br></pre></td></tr></table></figure>

<h4 id="2-删除模式"><a href="#2-删除模式" class="headerlink" title="2. 删除模式"></a>2. 删除模式</h4><ul>
<li>SQL 中删除模式的语句为</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> SCHEMA <span class="operator">&lt;</span>模式名<span class="operator">&gt;</span> <span class="operator">&lt;</span>CASCADE<span class="operator">|</span>RESTRICT<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>其中 <code>CASCADE</code> 和 <code>RESTRICT</code> 两者必选其一<ul>
<li>选择了 <code>CASCADE</code>（级联），表示在删除模式的同时把该模式中所有的数据库对象全部删除</li>
<li>选择了 <code>RESTRICT</code> （限制），表示如果该模式中定义了下属的数据库对象（如表、视图等），则拒绝该删除语句的执行。仅当该模式中没有任何下属的对象时才能执行 <code>DROP SCHEMA</code> 语句</li>
</ul>
</li>
</ul>
<h3 id="3-2-2-基本表的定义、删除与修改"><a href="#3-2-2-基本表的定义、删除与修改" class="headerlink" title="3.2.2 基本表的定义、删除与修改"></a>3.2.2 基本表的定义、删除与修改</h3><h4 id="1-定义基本表"><a href="#1-定义基本表" class="headerlink" title="1. 定义基本表"></a>1. 定义基本表</h4><p>SQL 中定义基本表的格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line">      (<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> [<span class="operator">&lt;</span>列级完整性约束条件<span class="operator">&gt;</span>]</span><br><span class="line">      [,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span>[<span class="operator">&lt;</span>列级完整性约束条件<span class="operator">&gt;</span>]] </span><br><span class="line">   		…</span><br><span class="line">      [,<span class="operator">&lt;</span>表级完整性约束条件<span class="operator">&gt;</span>]);</span><br></pre></td></tr></table></figure>

<ul>
<li>&lt;表名&gt;：所要定义的基本表的名字</li>
<li>&lt;列名&gt;：组成该表的各个属性（列）</li>
<li>&lt;列级完整性约束条件&gt;：涉及相应属性列的完整性约束条件</li>
<li>&lt;表级完整性约束条件&gt;：涉及一个或多个属性列的完整性约束条件 </li>
<li>如果完整性约束条件涉及到该表的多个属性列，则必须定义在表级上，否则既可以定义在列级也可以定义在表级</li>
</ul>
<h4 id="2-数据类型"><a href="#2-数据类型" class="headerlink" title="2. 数据类型"></a>2. 数据类型</h4><ul>
<li>SQL 中域的概念用数据类型来实现</li>
<li>定义表的属性时需要指明其数据类型及长度 </li>
<li>一个属性选用哪种数据类型一般从取值范围和要做哪些运算两方面来考虑</li>
</ul>
<h4 id="3-修改基本表"><a href="#3-修改基本表" class="headerlink" title="3. 修改基本表"></a>3. 修改基本表</h4><p>SQL 中修改基本表的格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">ADD</span>[<span class="keyword">COLUMN</span>] <span class="operator">&lt;</span>新列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span> [完整性约束]]</span><br><span class="line">[<span class="keyword">ADD</span> <span class="operator">&lt;</span>表级完整性约束<span class="operator">&gt;</span>]</span><br><span class="line">[<span class="keyword">DROP</span> [<span class="keyword">COLUMN</span>] <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [CASCADE <span class="operator">|</span> RESTRICT]]</span><br><span class="line">[<span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> <span class="operator">&lt;</span>完整性约束名<span class="operator">&gt;</span> [RESTRICT <span class="operator">|</span> CASCADE]]</span><br><span class="line">[<span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">&lt;</span>数据类型<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li><p>&lt;表名&gt;是要修改的基本表</p>
</li>
<li><p><code>ADD</code> 子句用于增加新列、新的列级完整性约束条件和新的表级完整性约束条件</p>
</li>
<li><p><code>DROP COLUMN</code> 子句用于删除表中的列</p>
<ul>
<li><p>如果指定了 <code>CASCADE</code> 短语，则自动删除引用了该列的其他对象</p>
</li>
<li><p>如果指定了 <code>RESTRICT</code> 短语，则如果该列被其他对象引用，关系数据库管理系统将拒绝删除该列</p>
</li>
</ul>
</li>
<li><p><code>DROP CONSTRAINT</code> 子句用于删除指定的完整性约束条件</p>
</li>
<li><p><code>ALTER COLUMN</code> 子句用于修改原有的列定义，包括修改列名和数据类型</p>
</li>
</ul>
<h4 id="4-删除基本表"><a href="#4-删除基本表" class="headerlink" title="4. 删除基本表"></a>4. 删除基本表</h4><p>SQL 删除基本表的格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [RESTRICT<span class="operator">|</span> CASCADE];</span><br></pre></td></tr></table></figure>

<ul>
<li>若选择 <code>RESTRICT</code>，则删除表是有限制的：欲删除的基本表不能被其他表的约束所引用，如果存在依赖该表的对象，则此表不能被删除</li>
<li>若选择 <code>CASCADE</code>，删除该表没有限制：在删除基本表的同时，相关的依赖对象一起删除</li>
</ul>
<h3 id="3-2-3-索引的建立和删除"><a href="#3-2-3-索引的建立和删除" class="headerlink" title="3.2.3 索引的建立和删除"></a>3.2.3 索引的建立和删除</h3><ul>
<li><p>建立索引的目的：加快查询速度</p>
<ul>
<li>由数据库管理员或表的拥有者建立</li>
<li>由关系数据库管理系统自动完成维护</li>
<li>关系数据库管理系统自动使用合适的索引作为存取路径，用户不必也不能显式地选择索引</li>
</ul>
</li>
<li><p>关系数据库管理系统中常见索引：</p>
<ul>
<li>顺序文件上的索引</li>
<li>B+树索引</li>
<li>散列索引</li>
<li>位图索引</li>
</ul>
</li>
</ul>
<h4 id="1-建立索引"><a href="#1-建立索引" class="headerlink" title="1. 建立索引"></a>1. 建立索引</h4><p>建立索引的语句格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">UNIQUE</span>] [CLUSTER] INDEX <span class="operator">&lt;</span>索引名<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">ON</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> (<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>次序<span class="operator">&gt;</span>] [,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [<span class="operator">&lt;</span>次序<span class="operator">&gt;</span>]]…);</span><br></pre></td></tr></table></figure>

<ul>
<li>&lt;表名&gt;：要建索引的基本表的名字</li>
<li>索引：可以建立在该表的一列或多列上，各列名之间用逗号分隔</li>
<li>&lt;次序&gt;：指定索引值的排列次序，升序为 <code>ASC</code>，降序为 <code>DESC</code>，缺省值为 <code>ASC</code></li>
<li><code>UNIQUE</code>：此索引的每一个索引值只对应唯一的数据记录</li>
<li><code>CLUSTER</code>：表示要建立的索引是聚簇索引</li>
</ul>
<h4 id="2-修改索引"><a href="#2-修改索引" class="headerlink" title="2. 修改索引"></a>2. 修改索引</h4><p>对于以建立的索引，如果需要对其重新命名，语句格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> INDEX <span class="operator">&lt;</span>旧索引名<span class="operator">&gt;</span> RENAME <span class="keyword">TO</span> <span class="operator">&lt;</span>新索引名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-删除索引"><a href="#3-删除索引" class="headerlink" title="3. 删除索引"></a>3. 删除索引</h4><p>删除索引的语句格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> INDEX <span class="operator">&lt;</span>索引名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-4-数据字典"><a href="#3-2-4-数据字典" class="headerlink" title="3.2.4 数据字典"></a>3.2.4 数据字典</h3><ul>
<li><p>数据字典是关系数据库管理系统内部的一组系统表，它记录了数据库中所有定义信息：</p>
<ul>
<li>关系模式定义</li>
<li>视图定义</li>
<li>索引定义</li>
<li>完整性约束定义</li>
<li>各类用户对数据库的操作权限</li>
<li>统计信息等</li>
</ul>
</li>
<li><p>关系数据库管理系统在执行 SQL 的数据定义语句时，实际上就是在更新数据字典表中的相应信息</p>
</li>
</ul>
<h2 id="3-3-数据查询"><a href="#3-3-数据查询" class="headerlink" title="3.3 数据查询"></a>3.3 数据查询</h2><p>SQL 提供了 <code>SELETE</code> 语句进行数据查询，该语句具有灵活的使用方式和丰富的功能，其一般格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span><span class="operator">|</span><span class="keyword">DISTINCT</span>] <span class="operator">&lt;</span>目标列表达式<span class="operator">&gt;</span> [,<span class="operator">&lt;</span>目标列表达式<span class="operator">&gt;</span>] …</span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表名或视图名<span class="operator">&gt;</span> [,<span class="operator">&lt;</span>表名或视图名<span class="operator">&gt;</span>…] <span class="operator">|</span> (<span class="keyword">SELECT</span>语句) [<span class="keyword">AS</span>] <span class="operator">&lt;</span>别名<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span> [<span class="keyword">HAVING</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]]</span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="number">2</span><span class="operator">&gt;</span> [<span class="keyword">ASC</span> <span class="operator">|</span> <span class="keyword">DESC</span>]];</span><br></pre></td></tr></table></figure>

<ul>
<li><code>SELECT</code> 子句：指定要显示的属性列</li>
<li><code>FROM</code> 子句：指定查询对象（基本表或视图）</li>
<li><code>WHERE</code> 子句：指定查询条件</li>
<li><code>GROUP BY</code> 子句：对查询结果按指定列的值分组，该属性列值相等的元组为一个组。通常会在每组中作用聚集函数。</li>
<li><code>HAVING</code> 短语：只有满足指定条件的组才予以输出</li>
<li><code>ORDER BY</code> 子句：对查询结果表按指定列值的升序或降序排序</li>
</ul>
<p>以下例子均来源于下图的学生-课程数据库</p>
<p><img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/20220228125859.png" alt="2.3.2"></p>
<h3 id="3-3-1-单表查询"><a href="#3-3-1-单表查询" class="headerlink" title="3.3.1 单表查询"></a>3.3.1 单表查询</h3><h4 id="1-选择表中的若干列"><a href="#1-选择表中的若干列" class="headerlink" title="1. 选择表中的若干列"></a>1. 选择表中的若干列</h4><p>（1）查询指定列</p>
<blockquote>
<p>例：查询全体学生的学号与姓名</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno, Sname</span><br><span class="line"><span class="keyword">FROM</span> Student; </span><br></pre></td></tr></table></figure>

<p>（2）查询全部列</p>
<blockquote>
<p>例：查询全体学生的详细记录</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Student;</span><br></pre></td></tr></table></figure>

<p>（3）查询经过计算的值</p>
<blockquote>
<p>例：查询全体学生的姓名、出生年份和所在的院系，要求用小写字母表示系名，且使用列别名改变查询结果的列标题</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname NAME, <span class="string">'Year of Birth:'</span> BIRTH, <span class="number">2014</span><span class="operator">-</span>Sage BIRTHDAY, <span class="built_in">LOWER</span>(Sdept) DEPARTMENT</span><br><span class="line"><span class="keyword">FROM</span> Student;</span><br></pre></td></tr></table></figure>

<p>查询结果为：（当前年为2014年）</p>
<table>
<thead>
<tr>
<th align="center">NAME</th>
<th align="center">BIRTH</th>
<th align="center">BIRTHDAY</th>
<th align="center"><strong>DEPARTMENT</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">李勇</td>
<td align="center">Year of Birth:</td>
<td align="center">1994</td>
<td align="center">cs</td>
</tr>
<tr>
<td align="center">刘晨</td>
<td align="center">Year of Birth:</td>
<td align="center">1995</td>
<td align="center">cs</td>
</tr>
<tr>
<td align="center">王敏</td>
<td align="center">Year of Birth:</td>
<td align="center">1996</td>
<td align="center">ma</td>
</tr>
<tr>
<td align="center">张立</td>
<td align="center">Year of Birth:</td>
<td align="center">1995</td>
<td align="center">is</td>
</tr>
</tbody></table>
<h4 id="2-选择表中的若干元组"><a href="#2-选择表中的若干元组" class="headerlink" title="2. 选择表中的若干元组"></a>2. 选择表中的若干元组</h4><p>（1）消除取值重复的行</p>
<blockquote>
<p>例：查询选修了课程的学生学号</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC; </span><br></pre></td></tr></table></figure>

<p>（2）查询满足条件的元组</p>
<blockquote>
<p>例：查询计算机系年龄在20岁以下的学生姓名</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname</span><br><span class="line"><span class="keyword">FROM</span>  Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept <span class="operator">=</span> <span class="string">'CS'</span> <span class="keyword">AND</span> Sage <span class="operator">&lt;</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<h4 id="3-ORDER-BY-子句"><a href="#3-ORDER-BY-子句" class="headerlink" title="3. ORDER BY 子句"></a>3. <code>ORDER BY</code> 子句</h4><blockquote>
<p>例：查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span>  Student</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Sdept, Sage <span class="keyword">DESC</span>;  </span><br></pre></td></tr></table></figure>

<h4 id="4-聚集函数"><a href="#4-聚集函数" class="headerlink" title="4. 聚集函数"></a>4. 聚集函数</h4><blockquote>
<p>例：计算1号课程的学生平均成绩</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(Grade)</span><br><span class="line"><span class="keyword">FROM</span>    SC</span><br><span class="line"><span class="keyword">WHERE</span> Cno<span class="operator">=</span> <span class="string">' 1 '</span>;</span><br></pre></td></tr></table></figure>

<h4 id="5-GROUP-BY-子句"><a href="#5-GROUP-BY-子句" class="headerlink" title="5. GROUP BY 子句"></a>5. <code>GROUP BY</code> 子句</h4><blockquote>
<p>例：查询平均成绩大于等于90分的学生学号和平均成绩</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  Sno, <span class="built_in">AVG</span>(Grade)</span><br><span class="line"><span class="keyword">FROM</span>  SC</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">AVG</span>(Grade) <span class="operator">&gt;=</span> <span class="number">90</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-2-连接查询"><a href="#3-3-2-连接查询" class="headerlink" title="3.3.2 连接查询"></a>3.3.2 连接查询</h3><h4 id="1-等值与非等值连接查询"><a href="#1-等值与非等值连接查询" class="headerlink" title="1. 等值与非等值连接查询"></a>1. 等值与非等值连接查询</h4><blockquote>
<p>例：查询每个学生及其选修课程的情况</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  Student.<span class="operator">*</span>, SC.<span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span>    Student, SC</span><br><span class="line"><span class="keyword">WHERE</span>   Student.Sno <span class="operator">=</span> SC.Sno;</span><br></pre></td></tr></table></figure>

<h4 id="2-自身连接"><a href="#2-自身连接" class="headerlink" title="2. 自身连接"></a>2. 自身连接</h4><blockquote>
<p>例：查询每一门课的间接先修课（即先修课的先修课）</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  FIRST.Cno, SECOND.Cpno</span><br><span class="line"><span class="keyword">FROM</span>  Course  <span class="keyword">FIRST</span>, Course  <span class="keyword">SECOND</span> #为Course表取两个别名，一个是<span class="keyword">FIRST</span>，另一个是<span class="keyword">SECOND</span></span><br><span class="line"><span class="keyword">WHERE</span> FIRST.Cpno <span class="operator">=</span> SECOND.Cno;</span><br></pre></td></tr></table></figure>

<h4 id="3-外连接"><a href="#3-外连接" class="headerlink" title="3. 外连接"></a>3. 外连接</h4><blockquote>
<p>例：查询每个学生及其选修课程的情况，保留没有选课的学生</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno,Sname,Ssex,Sage,Sdept,Cno,Grade</span><br><span class="line"><span class="keyword">FROM</span>  Student  <span class="keyword">LEFT</span> <span class="keyword">OUT</span> <span class="keyword">JOIN</span> SC <span class="keyword">ON</span> (Student.Sno<span class="operator">=</span>SC.Sno); </span><br></pre></td></tr></table></figure>

<h4 id="4-多表连接"><a href="#4-多表连接" class="headerlink" title="4. 多表连接"></a>4. 多表连接</h4><blockquote>
<p>例：查询每个学生的学号、姓名、选修的课程名及成绩</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno, Sname, Cname, Grade</span><br><span class="line"><span class="keyword">FROM</span>    Student, SC, Course</span><br><span class="line"><span class="keyword">WHERE</span> Student.Sno <span class="operator">=</span> SC.Sno <span class="keyword">AND</span> SC.Cno <span class="operator">=</span> Course.Cno;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-3-嵌套查询"><a href="#3-3-3-嵌套查询" class="headerlink" title="3.3.3 嵌套查询"></a>3.3.3 嵌套查询</h3><ul>
<li><p>一个 <code>SELECT-FROM-WHERE</code> 语句称为一个查询块</p>
</li>
<li><p>将一个查询块嵌套在另一个查询块的 <code>WHERE</code> 子句或 <code>HAVING</code> 短语的条件中的查询称为嵌套查询</p>
</li>
<li><p>子查询不能使用 <code>ORDER BY</code> 子句</p>
</li>
<li><p>不相关子查询：子查询的查询条件不依赖于父查询</p>
<ul>
<li>由里向外，逐层处理。即每个子查询在上一级查询处理之前求解，子查询的结果用于建立其父查询的查找条件。</li>
</ul>
</li>
<li><p>相关子查询：子查询的查询条件依赖于父查询</p>
<ul>
<li>首先取外层查询中表的第一个元组，根据它与内层查询相关的属性值处理内层查询，若WHERE子句返回值为真，则取此元组放入结果表</li>
<li>然后再取外层表的下一个元组</li>
<li>重复这一过程，直至外层表全部检查完为止</li>
</ul>
</li>
</ul>
<h4 id="1-带有-IN-谓词的子查询"><a href="#1-带有-IN-谓词的子查询" class="headerlink" title="1. 带有 IN 谓词的子查询"></a>1. 带有 <code>IN</code> 谓词的子查询</h4><blockquote>
<p>例：查询选修了课程名为“信息系统”的学生学号和姓名</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  Sno,Sname                 </span><br><span class="line"><span class="keyword">FROM</span>    Student                          </span><br><span class="line"><span class="keyword">WHERE</span> Sno  <span class="keyword">IN</span></span><br><span class="line">			(<span class="keyword">SELECT</span> Sno                     </span><br><span class="line">			 <span class="keyword">FROM</span>    SC                      </span><br><span class="line">			 <span class="keyword">WHERE</span>  Cno <span class="keyword">IN</span></span><br><span class="line">						(<span class="keyword">SELECT</span> Cno            </span><br><span class="line">						 <span class="keyword">FROM</span> Course          </span><br><span class="line">						 <span class="keyword">WHERE</span> Cname<span class="operator">=</span> <span class="string">'信息系统'</span></span><br><span class="line">						)</span><br><span class="line">			);</span><br></pre></td></tr></table></figure>

<h4 id="2-带有比较运算符的子查询"><a href="#2-带有比较运算符的子查询" class="headerlink" title="2. 带有比较运算符的子查询"></a>2. 带有比较运算符的子查询</h4><blockquote>
<p>例：找出每个学生超过他选修课程平均成绩的课程号</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  Sno, Cno</span><br><span class="line"><span class="keyword">FROM</span>    SC  x</span><br><span class="line"><span class="keyword">WHERE</span> Grade <span class="operator">&gt;=</span> (<span class="keyword">SELECT</span> AVG（Grade） </span><br><span class="line">		            <span class="keyword">FROM</span>  SC y</span><br><span class="line">		            <span class="keyword">WHERE</span> y.Sno<span class="operator">=</span>x.Sno);</span><br></pre></td></tr></table></figure>

<h4 id="3-带有-ANY（SOME）或-ALL-谓词的子查询"><a href="#3-带有-ANY（SOME）或-ALL-谓词的子查询" class="headerlink" title="3. 带有 ANY（SOME）或 ALL 谓词的子查询"></a>3. 带有 <code>ANY</code>（<code>SOME</code>）或 <code>ALL</code> 谓词的子查询</h4><blockquote>
<p>例：查询非计算机科学系中比计算机科学系任意一个学生年龄小的学生姓名和年龄</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  Sname,Sage</span><br><span class="line"><span class="keyword">FROM</span>    Student</span><br><span class="line"><span class="keyword">WHERE</span>   Sage <span class="operator">&lt;</span><span class="keyword">ANY</span> (<span class="keyword">SELECT</span>  Sage</span><br><span class="line">                   <span class="keyword">FROM</span>    Student</span><br><span class="line">                   <span class="keyword">WHERE</span>   Sdept<span class="operator">=</span> <span class="string">' CS '</span>)</span><br><span class="line"><span class="keyword">AND</span> Sdept <span class="operator">&lt;&gt;</span> ‘CS ‘ ;<span class="comment">/*注意这是父查询块中的条件 */</span></span><br></pre></td></tr></table></figure>

<h4 id="4-带有-EXISTS-谓词的子查询"><a href="#4-带有-EXISTS-谓词的子查询" class="headerlink" title="4. 带有 EXISTS 谓词的子查询"></a>4. 带有 <code>EXISTS</code> 谓词的子查询</h4><blockquote>
<p>例：查询所有选修了1号课程的学生姓名</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname</span><br><span class="line"><span class="keyword">FROM</span>   Student</span><br><span class="line"><span class="keyword">WHERE</span>  <span class="keyword">EXISTS</span></span><br><span class="line">       (<span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">        <span class="keyword">FROM</span> SC</span><br><span class="line">        <span class="keyword">WHERE</span> Sno<span class="operator">=</span>Student.Sno <span class="keyword">AND</span> Cno<span class="operator">=</span> <span class="string">'1'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="3-3-4-集合查询"><a href="#3-3-4-集合查询" class="headerlink" title="3.3.4 集合查询"></a>3.3.4 集合查询</h3><ul>
<li>集合操作主要包括并操作 <code>UNION</code>、交操作 <code>INTERSECT</code> 和差操作 <code>EXCEPT</code></li>
<li>参加集合操作的各查询结果的列数必须相同；对应项的数据类型也必须相同</li>
</ul>
<blockquote>
<p>例：查询选修了课程1或者选修了课程2的学生</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">'1'</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">'2'</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>例：查询计算机科学系的学生与年龄不大于19岁的学生的交集（MySQL目前不支持交操作）</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept <span class="operator">=</span> <span class="string">'CS'</span> </span><br><span class="line"><span class="keyword">INTERSECT</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sage <span class="operator">&lt;=</span> <span class="number">19</span> </span><br></pre></td></tr></table></figure>

<p>实际上就是查询计算机科学系中年龄不大于19岁的学生</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept <span class="operator">=</span> <span class="string">'CS'</span> <span class="keyword">AND</span> Sage <span class="operator">&lt;=</span> <span class="number">19</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>例：查询计算机科学系的学生与年龄不大于19岁的学生的差集（MySQL目前不支持差集操作）</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">'CS'</span></span><br><span class="line"><span class="keyword">EXCEPT</span></span><br><span class="line"><span class="keyword">SELECT</span>  <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sage <span class="operator">&lt;=</span><span class="number">19</span>;</span><br></pre></td></tr></table></figure>

<p>实际上是查询计算机科学系中年龄大于19岁的学生</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept <span class="operator">=</span> <span class="string">'CS'</span> <span class="keyword">AND</span> Sage <span class="operator">&gt;</span> <span class="number">19</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-5-基于派生表的查询"><a href="#3-3-5-基于派生表的查询" class="headerlink" title="3.3.5 基于派生表的查询"></a>3.3.5 基于派生表的查询</h3><ul>
<li>子查询不仅可以出现在 <code>WHERE</code> 子句中，还可以出现在 <code>FROM</code> 子句中，这时子查询生成的临时派生表成为主查询的查询对象</li>
<li>如果子查询中没有聚集函数，派生表可以不指定属性列，子查询 <code>SELECT</code> 子句后面的列名为其默认属性</li>
<li>通过 <code>FROM</code> 子句生成派生表时，<code>AS</code> 关键字可以省略，但必须为派生关系指定一个别名</li>
</ul>
<blockquote>
<p>例：找出每个学生超过他自己选修课程平均成绩的课程号</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno, Cno</span><br><span class="line"><span class="keyword">FROM</span> SC, (<span class="keyword">SELECT</span> Sno, <span class="built_in">Avg</span>(Grade) </span><br><span class="line">          <span class="keyword">FROM</span> SC</span><br><span class="line">    		  <span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno)</span><br><span class="line">          <span class="keyword">AS</span> Avg_sc(avg_sno,avg_grade)</span><br><span class="line"><span class="keyword">WHERE</span> SC.Sno <span class="operator">=</span> Avg_sc.avg_sno <span class="keyword">and</span> SC.Grade <span class="operator">&gt;=</span> Avg_sc.avg_grade</span><br></pre></td></tr></table></figure>

<h3 id="3-3-6-SELECT-语句的一般格式"><a href="#3-3-6-SELECT-语句的一般格式" class="headerlink" title="3.3.6 SELECT 语句的一般格式"></a>3.3.6 <code>SELECT</code> 语句的一般格式</h3><p><code>SELECT</code> 语句的一般格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">All</span><span class="operator">|</span><span class="keyword">DISTINCT</span>] <span class="operator">&lt;</span>目标表达式<span class="operator">&gt;</span> [别名] [,<span class="operator">&lt;</span>目标表达式<span class="operator">&gt;</span>[别名]]…</span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表名或视图名<span class="operator">&gt;</span> [别名] [,<span class="operator">&lt;</span>表名或视图名<span class="operator">&gt;</span> [别名]] … <span class="operator">|</span> (<span class="operator">&lt;</span><span class="keyword">SELECT</span><span class="operator">&gt;</span>) [<span class="keyword">AS</span>] <span class="operator">&lt;</span>别名<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="number">1</span><span class="operator">&gt;</span> [<span class="keyword">HAVING</span> <span class="operator">&lt;</span>条件表达式<span class="operator">&gt;</span>]]</span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>列名<span class="number">2</span><span class="operator">&gt;</span> [<span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>]]</span><br></pre></td></tr></table></figure>

<ul>
<li><p>目标列表达式的可选格式</p>
<ul>
<li><code>*</code></li>
<li><code>&lt;表名&gt;. *</code></li>
<li><code>COUNT ([DISTINCT|ALL])</code></li>
<li><code>&lt;表名或视图名&gt; [别名] [,&lt;表名或视图名&gt; [别名]] …</code></li>
</ul>
</li>
<li><p>聚集函数的一般格式</p>
</li>
</ul>
<p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.452ex;" xmlns="http://www.w3.org/2000/svg" width="247.511ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 109400 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="merror" data-mjx-error="Missing or unrecognized delimiter for \left" title="Missing or unrecognized delimiter for \left"><rect data-background="true" width="109400" height="950" y="-200"></rect><title>Missing or unrecognized delimiter for \left</title><g data-mml-node="mtext" style="font-family: serif;"><text data-variant="-explicitFont" transform="scale(1,-1)" font-size="884px"> \left{ \begin{aligned}[l] &amp; \mathrm{COUNT} \ &amp; \mathrm{SUM}\ &amp; \mathrm{AVG}\ &amp; \mathrm{MAX}\ &amp; \mathrm{MIN} &amp; \end{aligned} \right} \ ([\mathrm{DISTINCT,  |,  ALL}] \ \mbox{&lt;列名&gt;}) </text></g></g></g></g></svg></mjx-container></p>
<ul>
<li><p><code>WHERE</code> 子句的条件表达式的可选格式</p>
<ol>
<li><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.452ex;" xmlns="http://www.w3.org/2000/svg" width="242.986ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 107400 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="merror" data-mjx-error="Missing or unrecognized delimiter for \left" title="Missing or unrecognized delimiter for \left"><rect data-background="true" width="107400" height="950" y="-200"></rect><title>Missing or unrecognized delimiter for \left</title><g data-mml-node="mtext" style="font-family: serif;"><text data-variant="-explicitFont" transform="scale(1,-1)" font-size="884px"> \mbox{&lt;属性列名&gt;} \uptheta\left{ \begin{aligned}[l] &amp; \mbox{&lt;属性列名&gt;} &amp;\ &amp; \mbox{&lt;常量&gt;} \ &amp; [\mathrm{ANY} , |, \mathrm{ALL}]\ (\mathrm{SELECT}, \mbox{语句}) \end{aligned} \right} </text></g></g></g></g></svg></mjx-container></p>
</li>
<li><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.452ex;" xmlns="http://www.w3.org/2000/svg" width="402.262ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 177800 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="merror" data-mjx-error="Missing or unrecognized delimiter for \left" title="Missing or unrecognized delimiter for \left"><rect data-background="true" width="177800" height="950" y="-200"></rect><title>Missing or unrecognized delimiter for \left</title><g data-mml-node="mtext" style="font-family: serif;"><text data-variant="-explicitFont" transform="scale(1,-1)" font-size="884px"> \mbox{&lt;属性列名&gt;} \mathrm{[NOT]\ BETWEEN}\left{ \begin{aligned}[l] &amp; \mbox{&lt;属性列名&gt;} &amp;\ &amp; \mbox{&lt;常量&gt;} \ &amp; (\mathrm{SELECT}, \mbox{语句}) \end{aligned} \right} \ \mathrm{AND}\  \left{ \begin{aligned}[l] &amp; \mbox{&lt;属性列名&gt;} &amp;\ &amp; \mbox{&lt;常量&gt;} \ &amp; (\mathrm{SELECT}, \mbox{语句}) \end{aligned} \right} </text></g></g></g></g></svg></mjx-container></p>
</li>
<li><p>$$<br>\mbox{&lt;属性列名&gt;} \mathrm{[NOT]\ IN}\left{<br>\begin{aligned}[l]<br>&amp; (\mbox{&lt;值1&gt; \ [,&lt;值2&gt; …]}) \</p>
<p>&amp; (\mathrm{SELECT}, \mbox{语句})<br>\end{aligned}<br>\right}<br>$$</p>
</li>
<li><p><code>&lt;属性列名&gt; [NOT] LIKE &lt;匹配串&gt;</code></p>
</li>
<li><p><code>&lt;属性列名&gt; IS [NOT] NULL</code></p>
</li>
<li><p><code>[NOT] EXISTS (SELECT语句)</code></p>
</li>
<li><p><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.452ex;" xmlns="http://www.w3.org/2000/svg" width="309.502ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 136800 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="merror" data-mjx-error="Missing or unrecognized delimiter for \left" title="Missing or unrecognized delimiter for \left"><rect data-background="true" width="136800" height="950" y="-200"></rect><title>Missing or unrecognized delimiter for \left</title><g data-mml-node="mtext" style="font-family: serif;"><text data-variant="-explicitFont" transform="scale(1,-1)" font-size="884px"> \mbox{&lt;条件表达式&gt;} \left{ \begin{aligned}[l] &amp;\mathrm{AND}  \ &amp;\mathrm{OR} \end{aligned} \right}\ \mbox{&lt;条件表达式&gt;} \left( \left{ \begin{aligned}[l] &amp;\mathrm{AND}  \ &amp;\mathrm{OR} \end{aligned} \right}\mbox{&lt;条件表达式&gt;}… \right) </text></g></g></g></g></svg></mjx-container></p>
</li>
</ol>
</li>
</ul>
<h2 id="3-4-数据更新"><a href="#3-4-数据更新" class="headerlink" title="3.4 数据更新"></a>3.4 数据更新</h2><h3 id="3-4-1-插入数据"><a href="#3-4-1-插入数据" class="headerlink" title="3.4.1 插入数据"></a>3.4.1 插入数据</h3><h4 id="1-插入元组"><a href="#1-插入元组" class="headerlink" title="1. 插入元组"></a>1. 插入元组</h4><p>插入元组的 <code>INSERT</code> 语句的格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span></span><br><span class="line"><span class="keyword">INTO</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [(<span class="operator">&lt;</span>属性列<span class="number">1</span><span class="operator">&gt;</span>[,<span class="operator">&lt;</span>属性列<span class="number">2</span><span class="operator">&gt;</span> …)]</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="operator">&lt;</span>常量<span class="number">1</span><span class="operator">&gt;</span>[,<span class="operator">&lt;</span>常量<span class="number">2</span><span class="operator">&gt;</span>] …);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>对于<code>INTO</code> 子句</p>
<ul>
<li>指定要插入数据的表名及属性列</li>
<li>属性列的顺序可与表定义中的顺序不一致</li>
<li>没有指定属性列时，表示要插入的是一条完整的元组，且属性列属性与表定义中的顺序一致</li>
<li>指定部分属性列时，插入的元组在其余属性列上取空值</li>
</ul>
</li>
<li><p>对于 <code>VALUES</code> 子句，提供的值的个数和值的类型必须与 <code>INTO</code> 子句匹配</p>
</li>
</ul>
<blockquote>
<p>例：将一个新学生元组插入到 <code>Student</code> 表中</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span></span><br><span class="line"><span class="keyword">INTO</span>  Student (Sno,Sname,Ssex,Sdept,Sage)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'201215128'</span>,<span class="string">'陈冬'</span>,<span class="string">'男'</span>,<span class="string">'IS'</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure>

<h4 id="2-插入子查询结果"><a href="#2-插入子查询结果" class="headerlink" title="2. 插入子查询结果"></a>2. 插入子查询结果</h4><p>插入子查询结果的 <code>INSERT</code> 语句格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> </span><br><span class="line"><span class="keyword">INTO</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [(<span class="operator">&lt;</span>属性列<span class="number">1</span><span class="operator">&gt;</span> [,<span class="operator">&lt;</span>属性列<span class="number">2</span><span class="operator">&gt;</span>…)]</span><br><span class="line">子查询;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>例：对每一个系，求学生的平均年龄，并把结果存入数据库</p>
</blockquote>
<p>首先在数据库中建立一个新表，其中一列存放系名，另一列存放相应的学生平均年龄</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Dept_age</span><br><span class="line">            (Sdept <span class="type">CHAR</span>(<span class="number">15</span>)                         </span><br><span class="line">             Avg_age <span class="type">SMALLINT</span>)</span><br></pre></td></tr></table></figure>

<p>然后对 <code>Student</code> 按系分组求平均年龄，再把系名和平均年龄存入新表中</p>
<h3 id="3-4-2-修改数据"><a href="#3-4-2-修改数据" class="headerlink" title="3.4.2 修改数据"></a>3.4.2 修改数据</h3><p>修改操作又称为更新操作，其语句的一般格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">SET</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>表达式<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>表达式<span class="operator">&gt;</span>]…</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>条件<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li>其功能是修改指定表中满足 <code>WHERE</code> 子句条件的元组</li>
<li><code>SET</code> 子句给出&lt;表达式&gt;的值用于取代相应的属性列</li>
<li>如果省略 <code>WHERE</code> 子句，表示要修改表中的所有元组</li>
</ul>
<blockquote>
<p>例：将计算机科学系全体学生的成绩置零</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> SC</span><br><span class="line"><span class="keyword">SET</span> Grade<span class="operator">=</span><span class="number">0</span></span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="keyword">IN</span></span><br><span class="line">		 (SELETE Sno</span><br><span class="line">      <span class="keyword">FROM</span> Student</span><br><span class="line">      <span class="keyword">WHERE</span> Sdept <span class="operator">=</span> <span class="string">'CS'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="3-4-3-删除数据"><a href="#3-4-3-删除数据" class="headerlink" title="3.4.3 删除数据"></a>3.4.3 删除数据</h3><p>删除语句的一般格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>条件<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li><code>DELETE</code> 语句的功能是从指定表中删除满足 <code>WHERE</code> 子句条件的所有元组</li>
<li>如果省略 <code>WHERE</code> 语句则表示删除表中的所有元组，但表的定义仍在字典中</li>
<li><code>DELETE</code> 语句删除的是表中的数据，而不是关于表的定义</li>
</ul>
<blockquote>
<p>例：删除计算机科学系所有学生的选课记录</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="keyword">IN</span></span><br><span class="line">			(SELETE  Sno</span><br><span class="line">			<span class="keyword">FROM</span>  Student</span><br><span class="line">			<span class="keyword">WHERE</span> Sdept <span class="operator">=</span> <span class="string">'CS'</span>);</span><br></pre></td></tr></table></figure>

<h2 id="3-5-空值的处理"><a href="#3-5-空值的处理" class="headerlink" title="3.5 空值的处理"></a>3.5 空值的处理</h2><ul>
<li><p>空值就是“不知道”或“不存在”或“无意义”的值</p>
</li>
<li><p>SQL 语言允许某些元组的某些属性在一定情况下取空值，一般有以下几种情况：</p>
<ul>
<li>该属性应该有一个值，但目前不知道它的具体值</li>
<li>该属性不应该有值</li>
<li>由于某种原因不便于填写</li>
</ul>
</li>
<li><p>空值是一个很特殊的值，含有不确定性。对关系运算带来特殊的问题，需要做特殊的处理</p>
</li>
</ul>
<p><strong>1.空值的产生</strong></p>
<blockquote>
<p>例：向SC表中插入一个元组，学生号是“201215126”，课程号是”1”，成绩为空</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SC(Sno,Cno,Grade)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">'201215126'</span>, <span class="string">'1'</span>, <span class="keyword">NULL</span>);   </span><br></pre></td></tr></table></figure>

<p><strong>2.空值的判断</strong></p>
<blockquote>
<p>例：从Student表中找出漏填了数据的学生信息</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sname <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">OR</span> Ssex <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">OR</span> Sage <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">OR</span> Sdept <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<p><strong>3.空值的约束条件</strong></p>
<p>属性定义（或者域定义）中有 <code>NOT NULL</code> 约束条件的不能取空值，加了 <code>UNIQUE</code> 限制的属性不能取空值，码属性不能取空值</p>
<p><strong>4.空值的算数运算、比较运算和逻辑运算</strong></p>
<ul>
<li><p>空值与另一个值（包括另一个空值）的算术运算的结果为空值</p>
</li>
<li><p>空值与另一个值（包括另一个空值）的比较运算的结果为 <code>UNKNOWN</code></p>
</li>
<li><p>有 <code>UNKNOWN</code> 后，传统二值（<code>TRUE</code>，<code>FALSE</code>）逻辑就扩展成了三值逻辑</p>
</li>
</ul>
<img src="https://typora-vohsiliu.oss-cn-hangzhou.aliyuncs.com/202203131058028.png" alt="3.5.4" style="zoom:26%;">

<ul>
<li>在查询语句中，只有使 <code>WHERE</code> 和 <code>HAVING</code> 子句的选择条件为 <code>TRUE</code> 的元组才被选出作为输出结果</li>
</ul>
<blockquote>
<p>例：选出选修1号课程的不及格的学生以及缺考的学生</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">'1'</span> <span class="keyword">AND</span> (Grade <span class="operator">&lt;</span> <span class="number">60</span> <span class="keyword">OR</span> Grade <span class="keyword">IS</span> <span class="keyword">NULL</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*或者*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Grade <span class="operator">&lt;</span> <span class="number">60</span> <span class="keyword">AND</span> Cno <span class="operator">=</span> <span class="string">'1'</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno</span><br><span class="line"><span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Grade <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">AND</span> Cno <span class="operator">=</span> <span class="string">'1'</span></span><br></pre></td></tr></table></figure>

<h2 id="3-6-视图"><a href="#3-6-视图" class="headerlink" title="3.6 视图"></a>3.6 视图</h2><ul>
<li>视图是从一个或几个基本表（或视图）导出的虚表</li>
<li>数据库中只存放视图的定义，而不存放视图对应的数据</li>
<li>一旦基表中的数据发生变化，从视图中查询出的数据也随之改变</li>
</ul>
<h3 id="3-6-1-定义视图"><a href="#3-6-1-定义视图" class="headerlink" title="3.6.1 定义视图"></a>3.6.1 定义视图</h3><h4 id="3-6-1-1-建立视图"><a href="#3-6-1-1-建立视图" class="headerlink" title="3.6.1.1 建立视图"></a>3.6.1.1 建立视图</h4><p>SQL 语言用 <code>CREATE VIEW</code> 命令建立视图，其一般格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span> [(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>]…)]</span><br><span class="line"><span class="keyword">AS</span> <span class="operator">&lt;</span>子查询<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION];</span><br></pre></td></tr></table></figure>

<ul>
<li>子查询可以是任意的 <code>SELECT</code> 语句，是否可以含有 <code>ORDER BY</code> 子句和 <code>DISTINCT</code> 短语，则取决于具体系统的实现</li>
<li><code>WITH CHECK OPTION</code> 表示对视图进行 <code>UPDATE</code>，<code>INSERT</code> 和 <code>DELETE</code> 操作时要保证更新、插入或删除的行满足视图定义中的谓词条件（即子查询中的条件表达式）</li>
<li>组成视图的属性列名或者全部省略或者全部指定</li>
<li>如果省略了视图的各个属性列名，则隐含该视图由子查询中 <code>SELECT</code> 子句目标列中的诸字段组成</li>
<li>下列情况必须指定组成视图的所有列名<ul>
<li>某个目标列是聚集函数或列表达式</li>
<li>多表连接时选出了几个同名列作为视图的字段</li>
<li>需要在视图中为某个列启用新的更合适的名字</li>
</ul>
</li>
</ul>
<blockquote>
<p>例：建立信息系学生的视图，并要求进行修改和插入操作时仍需保证该视图只有信息系的学生</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> IS_Student</span><br><span class="line"><span class="keyword">AS</span> </span><br><span class="line"><span class="keyword">SELECT</span> Sno, Sname, Sage</span><br><span class="line"><span class="keyword">FROM</span>  Student</span><br><span class="line"><span class="keyword">WHERE</span>  Sdept <span class="operator">=</span> <span class="string">'IS'</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION;</span><br></pre></td></tr></table></figure>

<h4 id="3-6-1-2-删除视图"><a href="#3-6-1-2-删除视图" class="headerlink" title="3.6.1.2 删除视图"></a>3.6.1.2 删除视图</h4><p>删除视图的语句格式为</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span>[CASCADE];</span><br></pre></td></tr></table></figure>

<ul>
<li>该语句从数据字典中删除指定的视图定义</li>
<li>如果该视图上还导出了其他视图，使用 <code>CASCADE</code> 级联删除语句，把该视图和由它导出的所有视图一起删除 </li>
<li>删除基表时，由该基表导出的所有视图定义都必须显式地使用 <code>DROP VIEW</code> 语句删除</li>
</ul>
<h3 id="3-6-2-查询视图"><a href="#3-6-2-查询视图" class="headerlink" title="3.6.2 查询视图"></a>3.6.2 查询视图</h3><p>关系数据库管理系统执行对视图的查询时，首先进行有效性检查，检查查询中涉及的表、视图等是否存在。如果存在，则从数据字典中取出视图的定义，把定义中的子查询和用户的查询结合起来，转换成等价的对基本表的查询，然后在执行修正了的查询。这一转换过程称为<strong>视图消解</strong>。</p>
<blockquote>
<p>例：查询选修了1号课程的信息系学生</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> IS_Student.Sno,Sname</span><br><span class="line"><span class="keyword">FROM</span> IS_Student,SC</span><br><span class="line"><span class="keyword">WHERE</span> IS_Student.Sno <span class="operator">=</span> SC.Sno <span class="keyword">AND</span> SC.Cno <span class="operator">=</span> <span class="string">'1'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-6-3-更新视图"><a href="#3-6-3-更新视图" class="headerlink" title="3.6.3 更新视图"></a>3.6.3 更新视图</h3><ul>
<li>由于视图是不实际存储数据的虚表，因此对视图的更新最终要转换成对基本表的更新</li>
<li>像查询视图一样，对视图的更新操作也是通过视图消解，转换为对基本表的更新操作</li>
<li>一般地，行列子集视图是可更新的</li>
<li>对其他类型视图的更新不同系统有不同限制。一些视图是不可更新的，因为对这些视图的更新不能唯一地有意义地转换成对相应基本表的更新</li>
</ul>
<blockquote>
<p>例：将信息系学生视图 <code>IS_Student</code> 中学号“201215122”的学生姓名改为”刘辰”</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> IS_Student</span><br><span class="line"><span class="keyword">SET</span> Sname<span class="operator">=</span> <span class="string">'刘辰'</span></span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="operator">=</span> <span class="string">'201215122'</span>;</span><br></pre></td></tr></table></figure>

<p>转换后的更新语句为：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> Student</span><br><span class="line"><span class="keyword">SET</span> Sname <span class="operator">=</span> <span class="string">'刘辰'</span></span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="operator">=</span> <span class="string">'201215122'</span> <span class="keyword">AND</span> Sdept <span class="operator">=</span> <span class="string">'IS'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-6-4-视图的作用"><a href="#3-6-4-视图的作用" class="headerlink" title="3.6.4 视图的作用"></a>3.6.4 视图的作用</h3><ul>
<li>视图能够简化用户的操作</li>
<li>视图使用户能以多种角度看待同一数据，适应数据库共享的需要</li>
<li>视图对重构数据库提供了一定程度的逻辑独立性</li>
<li>视图能够对机密数据提供安全保护</li>
<li>适当的利用视图可以更清晰的表达查询</li>
</ul>

        </div>

        

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/06/06/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E5%85%A8%E6%80%A7/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">第四章 数据库安全性</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/06/06/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">第二章 关系数据库</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2023&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">拔丝地瓜</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A0%87%E5%87%86%E8%AF%AD%E8%A8%80SQL"><span class="nav-text">第三章 关系数据库标准语言SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-SQL%E6%A6%82%E8%BF%B0"><span class="nav-text">3.1 SQL概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89"><span class="nav-text">3.2 数据定义</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%88%A0%E9%99%A4"><span class="nav-text">3.2.1 模式的定义与删除</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%BC%8F"><span class="nav-text">1. 定义模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%88%A0%E9%99%A4%E6%A8%A1%E5%BC%8F"><span class="nav-text">2. 删除模式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-%E5%9F%BA%E6%9C%AC%E8%A1%A8%E7%9A%84%E5%AE%9A%E4%B9%89%E3%80%81%E5%88%A0%E9%99%A4%E4%B8%8E%E4%BF%AE%E6%94%B9"><span class="nav-text">3.2.2 基本表的定义、删除与修改</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89%E5%9F%BA%E6%9C%AC%E8%A1%A8"><span class="nav-text">1. 定义基本表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">2. 数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E4%BF%AE%E6%94%B9%E5%9F%BA%E6%9C%AC%E8%A1%A8"><span class="nav-text">3. 修改基本表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%88%A0%E9%99%A4%E5%9F%BA%E6%9C%AC%E8%A1%A8"><span class="nav-text">4. 删除基本表</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-3-%E7%B4%A2%E5%BC%95%E7%9A%84%E5%BB%BA%E7%AB%8B%E5%92%8C%E5%88%A0%E9%99%A4"><span class="nav-text">3.2.3 索引的建立和删除</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95"><span class="nav-text">1. 建立索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BF%AE%E6%94%B9%E7%B4%A2%E5%BC%95"><span class="nav-text">2. 修改索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="nav-text">3. 删除索引</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-4-%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="nav-text">3.2.4 数据字典</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2"><span class="nav-text">3.3 数据查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-1-%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-text">3.3.1 单表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E9%80%89%E6%8B%A9%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8B%A5%E5%B9%B2%E5%88%97"><span class="nav-text">1. 选择表中的若干列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%80%89%E6%8B%A9%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8B%A5%E5%B9%B2%E5%85%83%E7%BB%84"><span class="nav-text">2. 选择表中的若干元组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-ORDER-BY-%E5%AD%90%E5%8F%A5"><span class="nav-text">3. ORDER BY 子句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E8%81%9A%E9%9B%86%E5%87%BD%E6%95%B0"><span class="nav-text">4. 聚集函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-GROUP-BY-%E5%AD%90%E5%8F%A5"><span class="nav-text">5. GROUP BY 子句</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-text">3.3.2 连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%AD%89%E5%80%BC%E4%B8%8E%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-text">1. 等值与非等值连接查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5"><span class="nav-text">2. 自身连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="nav-text">3. 外连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5"><span class="nav-text">4. 多表连接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-3-%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2"><span class="nav-text">3.3.3 嵌套查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%B8%A6%E6%9C%89-IN-%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-text">1. 带有 IN 谓词的子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%B8%A6%E6%9C%89%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-text">2. 带有比较运算符的子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%B8%A6%E6%9C%89-ANY%EF%BC%88SOME%EF%BC%89%E6%88%96-ALL-%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-text">3. 带有 ANY（SOME）或 ALL 谓词的子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%B8%A6%E6%9C%89-EXISTS-%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-text">4. 带有 EXISTS 谓词的子查询</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-4-%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="nav-text">3.3.4 集合查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-5-%E5%9F%BA%E4%BA%8E%E6%B4%BE%E7%94%9F%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2"><span class="nav-text">3.3.5 基于派生表的查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-6-SELECT-%E8%AF%AD%E5%8F%A5%E7%9A%84%E4%B8%80%E8%88%AC%E6%A0%BC%E5%BC%8F"><span class="nav-text">3.3.6 SELECT 语句的一般格式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0"><span class="nav-text">3.4 数据更新</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-1-%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-text">3.4.1 插入数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%8F%92%E5%85%A5%E5%85%83%E7%BB%84"><span class="nav-text">1. 插入元组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%8F%92%E5%85%A5%E5%AD%90%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C"><span class="nav-text">2. 插入子查询结果</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-2-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="nav-text">3.4.2 修改数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-3-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="nav-text">3.4.3 删除数据</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E7%A9%BA%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86"><span class="nav-text">3.5 空值的处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-%E8%A7%86%E5%9B%BE"><span class="nav-text">3.6 视图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-1-%E5%AE%9A%E4%B9%89%E8%A7%86%E5%9B%BE"><span class="nav-text">3.6.1 定义视图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-1-1-%E5%BB%BA%E7%AB%8B%E8%A7%86%E5%9B%BE"><span class="nav-text">3.6.1.1 建立视图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-1-2-%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="nav-text">3.6.1.2 删除视图</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-2-%E6%9F%A5%E8%AF%A2%E8%A7%86%E5%9B%BE"><span class="nav-text">3.6.2 查询视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-3-%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE"><span class="nav-text">3.6.3 更新视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-4-%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-text">3.6.4 视图的作用</span></a></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>





<div class="post-scripts">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>



</body>
</html>
